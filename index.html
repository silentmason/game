<!DOCTYPE html>
<html>
<head>
    <title>Simple Canvas Game</title>
    <style>
        body { margin: 0; }
        canvas { background: #eee; }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="480" height="320"></canvas>

    <script src="https://app.photonengine.com/js/photon-javascript_realtime-v110.js"></script>
    <script>
        var canvas = document.getElementById("gameCanvas");
        var ctx = canvas.getContext("2d");

        var x = canvas.width/2;
        var y = canvas.height-30;
        var dx = 0; // Initial velocity is 0
        var dy = 0;

        var speed = 2; // Movement speed

        // Key press state
        var upPressed = false;
        var downPressed = false;
        var leftPressed = false;
        var rightPressed = false;

        // Key event listeners
        document.addEventListener("keydown", keyDownHandler, false);
        document.addEventListener("keyup", keyUpHandler, false);

        function keyDownHandler(e) {
            if (e.key == "w" || e.key == "W") {
                upPressed = true;
            }
            if (e.key == "s" || e.key == "S") {
                downPressed = true;
            }
            if (e.key == "a" || e.key == "A") {
                leftPressed = true;
            }
            if (e.key == "d" || e.key == "D") {
                rightPressed = true;
            }
        }

        function keyUpHandler(e) {
            if (e.key == "w" || e.key == "W") {
                upPressed = false;
            }
            if (e.key == "s" || e.key == "S") {
                downPressed = false;
            }
            if (e.key == "a" || e.key == "A") {
                leftPressed = false;
            }
            if (e.key == "d" || e.key == "D") {
                rightPressed = false;
            }
        }


        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.arc(x, y, 10, 0, Math.PI*2);
            ctx.fillStyle = "#0095DD";
            ctx.fill();
            ctx.closePath();

            // Update velocity based on key presses
            if (upPressed) dy = -speed;
            else if (downPressed) dy = speed;
            else dy = 0; // Stop movement when key is released

            if (leftPressed) dx = -speed;
            else if (rightPressed) dx = speed;
            else dx = 0;

            x += dx;
            y += dy;

            // Keep the ball within the canvas bounds
            if (x + dx > canvas.width-10 || x + dx < 10) {
               x -= dx; // Reverse the movement
            }
            if (y + dy > canvas.height-10 || y + dy < 10) {
                y -= dy;
            }

            requestAnimationFrame(draw);
        }

        draw();
    </script>
</body>
</html>